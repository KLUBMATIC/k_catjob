<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Scrapper Console</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div id="scrapper-ui" class="ui-root hidden">
        <div class="ui-panel">
            <div class="ui-header">
                <div class="ui-title-block">
                    <div class="ui-title">Scrapper</div>
                    <div class="ui-subtitle">Catalytic Converter Contracts</div>
                </div>
                <div class="ui-meta">
                    <div class="ui-meta-line">
                        <span id="ui-level-label">Level 1</span>
                    </div>
                    <div class="ui-meta-line progress">
                        <div class="progress-bar">
                            <div class="progress-fill" id="xp-bar"></div>
                        </div>
                        <span class="progress-text" id="xp-text">0 / 100 XP</span>
                    </div>
                </div>
                <button class="ui-close" id="btn-close" aria-label="Close">×</button>
            </div>

            <div class="ui-tabs">
                <button class="tab-button active" data-tab="main">Job</button>
                <button class="tab-button" data-tab="shop">Shop</button>
                <button class="tab-button" data-tab="xp">Progress</button>
            </div>

            <div class="ui-content">
                <div class="tab-content active" id="tab-main">
                    <div class="card">
                        <div class="card-header">
                            <h2>Converter Run</h2>
                            <span class="badge badge-primary">Contract</span>
                        </div>
                        <p class="card-text">
                            Take on a targeted converter job. You&apos;ll receive a vehicle location, spend some time under the car,
                            and walk away with materials and XP once the process completes.
                        </p>
                        <ul class="info-list">
                            <li>• Long-form cutting via progress timer (no skill check).</li>
                            <li>• Risk-based ps-dispatch alerts (linked to ps-mdt).</li>
                            <li>• Converter item plus material rewards scaling with level &amp; car class.</li>
                        </ul>

                        <div class="job-status" id="job-status">
                            <div class="job-status-title" id="job-status-title">No Active Contract</div>
                            <div class="job-status-body" id="job-status-body">
                                Press <strong>Start Job</strong> to roll a new contract. Higher levels unlock better vehicle pools.
                            </div>
                        </div>

                        <div class="card-actions">
                            <button class="btn btn-primary" id="btn-start-job">Start Job</button>
                        </div>
                    </div>
                </div>

                <div class="tab-content" id="tab-shop">
                    <div class="card">
                        <div class="card-header">
                            <h2>Scrapper Shop</h2>
                            <span class="badge">Level-gated</span>
                        </div>
                        <p class="card-text">
                            Purchase tools and materials using cash. Items unlock automatically as your level increases.
                        </p>
                        <div id="shop-list" class="shop-list">
                            <!-- shop items populated by JS -->
                        </div>
                    </div>
                </div>

                <div class="tab-content" id="tab-xp">
                    <div class="card">
                        <div class="card-header">
                            <h2>Progress Overview</h2>
                            <span class="badge badge-soft">Profile</span>
                        </div>
                        <div class="xp-grid">
                            <div class="xp-block">
                                <label>Current Level</label>
                                <div id="xp-level" class="xp-value">1</div>
                            </div>
                            <div class="xp-block">
                                <label>Total XP</label>
                                <div id="xp-total" class="xp-value">0</div>
                            </div>
                            <div class="xp-block">
                                <label>Next Level At</label>
                                <div id="xp-next" class="xp-value">100</div>
                            </div>
                        </div>
                        <p class="card-text small">
                            Complete converter jobs to gain XP. Higher levels increase material payouts and unlock new shop inventory.
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Floating toast for job rewards summary -->
    <div id="catjob-toast-root" class="toast-root hidden"></div>

    <script src="app.js"></script>
</body>
</html>
